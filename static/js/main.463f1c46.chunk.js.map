{"version":3,"sources":["components/Users/Users.module.css","common/FormControls/FormControls.module.css","components/Login/Login.module.css","Server/Users.js","dalApi/dalApi.js","Redux/authReducer.js","validators/loginValidator.js","common/FormControls/FormControls.js","components/Login/LoginForm.jsx","components/Login/Login.jsx","Redux/usersReducer.js","components/Users/User.jsx","components/Users/Users.jsx","utils/sortById.js","Redux/profileReducer.js","validators/userValidator.js","components/Profile/ProfileForm.jsx","components/Profile/Profile.jsx","validators/createUserValidator.js","validators/validate.js","components/Users/CreateUser/CreateUserForm.jsx","components/Users/CreateUser/CreateUser.jsx","App.js","serviceWorker.js","Redux/Store.js","index.js","App.module.css"],"names":["module","exports","Users","id","username","first_name","last_name","password","isActive","requestUsersAPI","token","Promise","resolve","reject","data","sort","a","b","Math","random","code","error","requestUserProfileAPI","userId","userData","map","u","filter","element","createUserAPI","usernames","console","log","includes","push","length","addNewUser","updateUserAPI","updateUser","instance","axios","baseURL","loginAPI","post","then","response","status","createNewUserServer","updateUserServer","initialState","isAuth","authReducer","state","action","type","requiredField","value","maxLengthCreator","maxLength","correctUsername","test","correctPassword","Input","input","meta","props","hasError","touched","className","styles","Error","ErrorSpan","passwordInput","onClick","setType","ShowLabel","max150","max128","LoginReduxForm","reduxForm","form","useState","typePassword","setTypePassword","onSubmit","handleSubmit","LoginForm","LoginInputWrapper","Field","component","validate","name","placeholder","formStyles","disabled","isSubmitting","LoginSubmitButton","e","preventDefault","onTestModeClick","loginCompose","compose","connect","login","dispatch","stopSubmit","_error","setTestMode","setSubmitting","Login","LoginHeading","formData","finally","_","history","users","setUsersAction","addNewUserAction","usersReducer","User","to","src","requestUsers","pageUsers","setPageUsers","filterValue","setFilterValue","useEffect","useRequestUsers","usersElements","onChange","target","sortByNum","num","groups","Object","values","reduce","acc","item","group","concat","sortById","userProfile","updateUserAction","profileReducer","correctFirstname","firstname","correctLastname","lastname","max30","EditProfileReduxForm","initialValues","profile","onCancelClick","EditProfile","underscore","onSuccess","profileCompose","withRouter","requestUserProfile","isEditing","setEditing","match","params","errors","confirmPassword","CreateUserReduxForm","typeConfirmPassword","setTypeConfirmPassword","htmlFor","createNewUser","canRedirect","appCompose","auth","App","exact","path","render","Boolean","window","location","hostname","reducers","combineReducers","formReducer","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.463f1c46.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"User\":\"Users_User__1O4em\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Error\":\"FormControls_Error__iQfA6\",\"ErrorSpan\":\"FormControls_ErrorSpan__2CDXA\",\"Input\":\"FormControls_Input__m1qpb\",\"ShowLabel\":\"FormControls_ShowLabel__2AQOz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Login\":\"Login_Login__3zNGw\",\"LoginForm\":\"Login_LoginForm__26Utr\",\"LoginHeading\":\"Login_LoginHeading__z_lmw\",\"LoginInputWrapper\":\"Login_LoginInputWrapper__1bgBZ\",\"LoginSubmitButton\":\"Login_LoginSubmitButton__1httV\"};","let Users = [\r\n    {\r\n        id: 1,\r\n        username: \"Roma_roma\",\r\n        first_name: \"Roma\",\r\n        last_name: \"Kucherenko\",\r\n        password: \"testUserPassword1\",\r\n        isActive: true\r\n    },\r\n    {\r\n        id: 2,\r\n        username: \"Dima600kg\",\r\n        first_name: \"Dmitry\",\r\n        last_name: \"Golubochkin\",\r\n        password: \"testUserPassword2\",\r\n        isActive: true\r\n    },\r\n    {\r\n        id: 3,\r\n        username: \"BigRonnie\",\r\n        first_name: \"Ronnie\",\r\n        last_name: \"Coleman\",\r\n        password: \"testUserPassword3\",\r\n        isActive: true\r\n    },\r\n    {\r\n        id: 4,\r\n        username: \"Ingvar\",\r\n        first_name: \"Igor\",\r\n        last_name: \"Voitenko\",\r\n        password: \"testUserPassword4\",\r\n        isActive: true\r\n    },\r\n    {\r\n        id: 5,\r\n        username: \"Yuriy_104\",\r\n        first_name: \"Yuriy\",\r\n        last_name: \"Thursday\",\r\n        password: \"testUserPassword5\",\r\n        isActive: true\r\n    },\r\n    {\r\n        id: 6,\r\n        username: \"Adil_Jalelov\",\r\n        first_name: \"Adil\",\r\n        last_name: \"Jalelov\",\r\n        password: \"testUserPassword6\",\r\n        isActive: true\r\n    },\r\n    {\r\n        id: 7,\r\n        username: \"DimaBicepcs\",\r\n        first_name: \"Dima\",\r\n        last_name: \"Biceps\",\r\n        password: \"testUserPassword7\",\r\n        isActive: true\r\n    },\r\n    {\r\n        id: 8,\r\n        username: \"IvanKrasavin\",\r\n        first_name: \"Ivan\",\r\n        last_name: \"Krasavin\",\r\n        password: \"testUserPassword8\",\r\n        isActive: true\r\n    },\r\n    {\r\n        id: 9,\r\n        username: \"26_Oleg_26\",\r\n        first_name: \"Oleg\",\r\n        last_name: \"Nechiporenko\",\r\n        password: \"testUserPassword9\",\r\n        isActive: true\r\n    },\r\n    {\r\n        id: 10,\r\n        username: \"DenisFit4Life\",\r\n        first_name: \"Denis\",\r\n        last_name: \"Borisov\",\r\n        password: \"testUserPassword10\",\r\n        isActive: true\r\n    }]\r\n//Псевдозапросы, когда сервер заработает логика запросов и обработки\r\n// их ответов уже будет написана\r\nconst getUsernames = () => {\r\n    return Users.map(u => u.username)\r\n}\r\nconst getLastUser = () => {\r\n    return Users[Users.length - 1]\r\n}\r\nconst addNewUser = (userData) => {\r\n    Users.push({\r\n        id: Users.length + 1,\r\n        ...userData\r\n    })\r\n}\r\nconst updateUser = userData => {\r\n    Users = Users.map(u => {\r\n        if (u.id == userData.id) {\r\n            return {\r\n                ...userData,\r\n                password: u.password\r\n            }\r\n        }\r\n        return u\r\n    })\r\n}\r\nexport const requestUsersAPI = (token) => {\r\n    return new Promise((resolve, reject) => {\r\n        if (token) {\r\n            let usersCopy = [...Users]\r\n            resolve({\r\n                data: usersCopy.sort(function func(a, b) {\r\n                    return 0.5 - Math.random()\r\n                }),\r\n                code: 200\r\n            })\r\n        } else {\r\n            reject({\r\n                code: 401,\r\n                error: \"You are not authorized\"\r\n            })\r\n        }\r\n    })\r\n}\r\nexport const requestUserProfileAPI = (userId) => {\r\n    return new Promise((resolve, reject) => {\r\n        if (1) {\r\n            resolve({\r\n                userData: Users.map(u => {\r\n                    if (u.id == userId) {\r\n                        return u\r\n                    }\r\n                }).filter(element => element)[0],\r\n                code: 200\r\n            })\r\n        } else {\r\n            reject({\r\n                code: 401,\r\n                error: \"You are not authorized\"\r\n            })\r\n        }\r\n    })\r\n}\r\nexport const createUserAPI = userData => {\r\n    return new Promise((resolve, reject) => {\r\n        let usernames = getUsernames()\r\n        console.log(userData.username, usernames)\r\n        if (usernames.includes(userData.username)) {\r\n            reject({\r\n                error: \"We already have user with this username\",\r\n                code: 400\r\n            })\r\n        } else {\r\n            addNewUser(userData)\r\n            resolve({\r\n                code: 200,\r\n                data: getLastUser()\r\n            })\r\n        }\r\n    })\r\n}\r\nexport const updateUserAPI = userData => {\r\n    return new Promise((resolve, reject) => {\r\n        updateUser(userData)\r\n        resolve({\r\n            userData: userData})\r\n    })\r\n}","import * as axios from \"axios\"\r\nimport {createUserAPI, updateUserAPI} from \"../Server/Users\";\r\n\r\nconst instance = axios.create({\r\n    baseURL:\"https://emphasoft-test-assignment.herokuapp.com/\"\r\n})\r\n\r\nexport const loginAPI = (username, password) => {\r\n    //Я делаю запрос и возвращаю ответ. С этим ответом я не провожу манипуляций\r\n    return instance.post(\"api-token-auth/\",{username, password}).then(\r\n        response => {\r\n            return response\r\n        },\r\n        error => {\r\n            return error.response.status\r\n        }\r\n    )\r\n}\r\nexport const requestUsersServer = () => {\r\n    instance.get(\"/api/v1/users/\", {\r\n    }).then(\r\n        response => console.log(response)\r\n    )\r\n}\r\nexport const createNewUserServer = async userData => {\r\n    return await createUserAPI(userData)\r\n}\r\nexport const updateUserServer = async userData => {\r\n    return updateUserAPI(userData);\r\n}","import { loginAPI } from \"../dalApi/dalApi\";\r\nimport { stopSubmit } from \"redux-form\";\r\n\r\nconst SET_AUTH_DATA = \"SET_AUTH_DATA\"\r\nconst SET_TEST_MODE = \"SET_TEST_MODE\"\r\n\r\nlet initialState = {\r\n    isAuth: false,\r\n    token: null\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_AUTH_DATA:\r\n            return {\r\n                ...state,\r\n                token: action.token,\r\n                isAuth: true\r\n            }\r\n        case SET_TEST_MODE:\r\n            return {\r\n                ...state,\r\n                isAuth: true\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const setAuthDataAction = (token) => ({type: SET_AUTH_DATA, token})\r\nexport const setTestModeAction = () => ({type: SET_TEST_MODE})\r\n\r\nexport const login = (username, password) => async dispatch => {\r\n    let response = await loginAPI(username, password)\r\n    if (response === 400){\r\n        dispatch(stopSubmit(\"login\", {_error: \"Incorrect Username/Password\"}))\r\n    }\r\n    else if (response.status === 200){\r\n        dispatch(setAuthDataAction(response.data.token))\r\n    }\r\n}\r\nexport const setTestMode = () => dispatch => {\r\n    dispatch(setTestModeAction())\r\n}\r\n\r\n\r\nexport default authReducer","export const requiredField = value => {\r\n    if (value) return undefined\r\n    return \"This field is required\"\r\n}\r\nexport const maxLengthCreator = maxLength => value => {\r\n    //!!!!!Очень интересный момент - проверка на value, undef value or not!!!!!\r\n    //Потому что если будет value = null, то null.length выдаст ошибку\r\n    if (value && value.length > maxLength) return `Max length is ${maxLength} symbols`\r\n    return undefined\r\n\r\n}\r\nexport const correctUsername = username => {\r\n    if (/^[\\w.@+-]+$/.test(username)) return undefined\r\n    return \"Entered incorrect data.\"\r\n}\r\nexport const correctFirstname = firstname => {\r\n    if (/^[a-zA-Z]+$/.test(firstname)) return undefined\r\n    return \"Только буквы.\"\r\n}\r\nexport const correctLastname = lastname => {\r\n    if (/^[a-zA-Z]+$/.test(lastname)) return undefined\r\n    return \"Только буквы.\"\r\n}\r\nexport const correctPassword = password => {\r\n    //Длина пароля 8 символов, 1 цифра, 1 заглавная\r\n    if (/^(?=.*[A-Z])(?=.*\\d).{8,}$/.test(password)) return undefined\r\n    return \"Entered incorrect data.\"\r\n}","import React from \"react\";\r\nimport styles from \"./FormControls.module.css\"\r\n\r\n\r\nexport const Input = ({input, meta, ...props}) => {\r\n    let hasError = meta.error && meta.touched\r\n    return (\r\n        <>\r\n            <div className={styles.Input}>\r\n                <input {...input} {...props} className={hasError ? styles.Error : \"\"}/>\r\n            </div>\r\n            {hasError && <div>\r\n                <span className={styles.ErrorSpan}>{meta.error}</span></div>}\r\n        </>\r\n    )\r\n}\r\n\r\nexport const passwordInput = ({input, meta, ...props}) => {\r\n    let hasError = meta.error && meta.touched\r\n    const setType = () => {\r\n        props.setType(\r\n            props.type === \"password\" ? \"text\" : \"password\"\r\n        )\r\n    }\r\n    return (\r\n        <>\r\n            <div className={styles.Input}>\r\n                <input {...input} {...props} className={hasError ? styles.Error : \"\"}/>\r\n                <span onClick={setType} className={styles.ShowLabel}>Show</span>\r\n            </div>\r\n            {hasError && <div>\r\n                <span className={styles.ErrorSpan}>{meta.error}</span>\r\n            </div>}\r\n        </>\r\n\r\n    )\r\n}","import {correctPassword, correctUsername, maxLengthCreator, requiredField} from \"../../validators/loginValidator\";\r\nimport React, {useState} from \"react\";\r\nimport styles from \"./Login.module.css\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Input, passwordInput} from \"../../common/FormControls/FormControls\";\r\nimport formStyles from \"../../common/FormControls/FormControls.module.css\";\r\n\r\nlet max150 = maxLengthCreator(150)\r\nlet max128 = maxLengthCreator(128)\r\nconst LoginForm = (props) => {\r\n    const onTestModeClick = (e) => {\r\n        e.preventDefault()\r\n        props.onTestModeClick()\r\n    }\r\n    let [typePassword, setTypePassword] = useState(\"password\")\r\n    return <form onSubmit={props.handleSubmit} className={styles.LoginForm}>\r\n        <div className={styles.LoginInputWrapper}>\r\n            <Field component={Input}\r\n                   validate={[requiredField, correctUsername, max150]}\r\n                   name={\"username\"}\r\n                   placeholder={\"Login\"}\r\n            />\r\n        </div>\r\n        <div className={styles.LoginInputWrapper}>\r\n            <Field component={passwordInput} type={\"text\"}\r\n                   name={\"password\"} placeholder={\"Password\"}\r\n                   validate={[requiredField, correctPassword, max128]}\r\n                   type={typePassword}\r\n                   setType={setTypePassword}/>\r\n        </div>\r\n        {props.error ? <span className={formStyles.Error}>{props.error}</span> : null}\r\n        <div>\r\n            <button disabled={props.isSubmitting} className={styles.LoginSubmitButton}>Войти в IT</button>\r\n            <button disabled={props.isSubmitting}\r\n                    className={styles.LoginSubmitButton}\r\n                    onClick={onTestModeClick}>Test Mode</button>\r\n        </div>\r\n    </form>\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({\r\n    form: \"login\"\r\n})(LoginForm)\r\n\r\nexport default LoginReduxForm","import {connect} from \"react-redux\"\r\nimport React, {useEffect, useState} from \"react\"\r\nimport {login, setTestMode} from \"../../Redux/authReducer\";\r\nimport styles from \"./Login.module.css\"\r\nimport {compose} from \"redux\";\r\nimport LoginReduxForm from \"./LoginForm\";\r\n\r\n\r\nconst Login = (props) => {\r\n    let [isSubmitting, setSubmitting] = useState(false)\r\n\r\n    const onSubmit = (formData) => {\r\n        setSubmitting(true)\r\n        let {username, password} = formData\r\n\r\n        props.login(username, password).finally(_ => {\r\n                setSubmitting(false)\r\n            }\r\n        ).then(() => {\r\n                props.history.push('/Users')\r\n            }\r\n        )\r\n    }\r\n\r\n    const onLoginTestModeClick = () => {\r\n        props.setTestMode()\r\n        props.history.push('/Users')\r\n    }\r\n    return (\r\n        <div className={styles.Login}>\r\n            <h1 className={styles.LoginHeading}>Login</h1>\r\n            <LoginReduxForm onSubmit={onSubmit}\r\n                            setSubmitting={setSubmitting}\r\n                            isSubmitting={isSubmitting}\r\n                            onTestModeClick={onLoginTestModeClick}/>\r\n        </div>\r\n    )\r\n}\r\nconst loginCompose = compose(\r\n    connect(null, {login, setTestMode})\r\n)(Login)\r\n\r\nexport default loginCompose","import {requestUsersAPI} from \"../Server/Users\";\r\nimport {createNewUserServer} from \"../dalApi/dalApi\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USERS = `SET_USERS`\r\nconst ADD_NEW_USER = \"ADD_NEW_USER\"\r\n\r\nlet initialState = {\r\n    users: [],\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USERS:\r\n            return {\r\n                //по идеи нам нужны только id and username значит надо\r\n                // реализовать такую логику что только эти данные мы будем хранить\r\n                ...state,\r\n                users: [...action.users]\r\n            }\r\n\r\n        case ADD_NEW_USER:\r\n            return {\r\n                ...state,\r\n                users: [...state.users, action.userData]\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\nexport const setUsersAction = (users) => ({type: SET_USERS, users: users})\r\nexport const addNewUserAction = (userData) => ({type: ADD_NEW_USER, userData})\r\n\r\nexport const requestUsers = (token = \"781bd9f1de084f4daa7ba2aa8a71a2eab855354e\") => {\r\n    //token должен зашиваться в cookie\r\n    return async dispatch => {\r\n        let response = await requestUsersAPI(token)\r\n        if (response.code === 200) {\r\n            dispatch(setUsersAction(response.data))\r\n        } else if (response.code === 401) {\r\n            console.log(response.error)\r\n        }\r\n    }\r\n}\r\nexport const createNewUser = userData => async dispatch => {\r\n    try {\r\n        let response = await createNewUserServer(userData)\r\n        if (response.code === 200) {\r\n            dispatch(addNewUserAction(response.data))\r\n            return true\r\n        }\r\n    } catch (error) {\r\n        if (error.code === 400) {\r\n            dispatch(stopSubmit(\"createUser\", {_error: error.error}))\r\n            return false\r\n        }\r\n    }\r\n}\r\n\r\nexport default usersReducer","import React from \"react\";\r\nimport styles from './Users.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst User = (props) => {\r\n    return <div className={styles.User}>\r\n        <NavLink to={\"/Profile/\" + props.id}>\r\n            <img src=\"https://static2.clutch.co/s3fs-public/logos/de2c8bde806ea56b7e405a9a86a501be.png?m.QYppUsaGYggvTPcXhRKy0uiVPMYv4Z\"/>\r\n        </NavLink>\r\n        <div><span>{props.username}, {props.id}</span></div>\r\n        <div>{props.first_name} {props.last_name}</div>\r\n\r\n    </div>\r\n}\r\n\r\nexport default User","import React, {useEffect, useState} from \"react\";\r\nimport {requestUsers} from \"../../Redux/usersReducer\";\r\nimport {connect} from \"react-redux\";\r\nimport User from \"./User\";\r\nimport {sortById} from \"../../utils/sortById\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst useRequestUsers = props => {\r\n    useEffect(() => {\r\n        props.requestUsers(props.token)\r\n    }, [])\r\n}\r\nconst Users = (props) => {\r\n    let [pageUsers, setPageUsers] = useState(props.users)\r\n\r\n    let [filterValue, setFilterValue] = useState(\"\")\r\n    useRequestUsers(props)\r\n    useEffect(() => {\r\n        setPageUsers(props.users)\r\n    }, [props.users])\r\n\r\n    const filterUsers = (users, value) => {\r\n        return users.filter(u => u.username.includes(value))\r\n    }\r\n    const onFilterValueChange = (e) => {\r\n        setFilterValue(e.target.value)\r\n        setPageUsers(filterUsers(props.users, e.target.value))\r\n    }\r\n    const onSortByIdClick = () => {\r\n        setPageUsers(sortById(pageUsers))\r\n    }\r\n    let usersElements = pageUsers.map(u => {\r\n        return <User id={u.id} username={u.username} first_name={u.first_name} last_name={u.last_name}/>\r\n    })\r\n\r\n\r\n    return (\r\n        <>\r\n            <div>\r\n                <input value={filterValue} onChange={onFilterValueChange} placeholder=\"Начните вводить Username\"/>\r\n                <button onClick={onSortByIdClick}>Sort By Id</button>\r\n                <NavLink to=\"/Users/create\">\r\n                    <button>Create new User</button>\r\n                </NavLink>\r\n            </div>\r\n            <div className=\"Users\">\r\n                {usersElements}\r\n            </div>\r\n        </>\r\n    )\r\n}\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        users: state.users.users\r\n    }\r\n}\r\nexport default connect(mapStateToProps, {requestUsers})(Users)","export const sortById = (users) => {\r\n    const groupById = (acc, item) => {\r\n        const id = item.id;\r\n        if (id in acc) {\r\n            acc[id].push(item);\r\n        } else {\r\n            acc[id] = [item];\r\n        }\r\n        return acc;\r\n    };\r\n    const sortByNum = (a, b) => a.num - b.num;\r\n    const sortByMinNum = (a, b) => a[0].num - b[0].num;\r\n\r\n    let groups = Object.values(users.reduce(groupById, {}))\r\n        .map(group => group.sort(sortByNum))\r\n        .sort(sortByMinNum);\r\n    return [].concat(...groups)\r\n}","import {requestUserProfileAPI} from \"../Server/Users\";\r\nimport {updateUserServer} from \"../dalApi/dalApi\";\r\n\r\nconst SET_USER_PROFILE = `SET_USER_PROFILE`;\r\nconst UPDATE_USER = \"UPDATE_USER\"\r\n\r\nlet initialState = {\r\n    userProfile: null\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_PROFILE: {\r\n            return {\r\n                ...state,\r\n                userProfile: {...action.userProfile}\r\n            }\r\n        }\r\n        case UPDATE_USER:\r\n            return {\r\n                ...state,\r\n                userProfile: {...action.userData}\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\nexport const setUserProfile = (userProfile) => ({type: SET_USER_PROFILE, userProfile})\r\n\r\nexport const requestUserProfile = (userId) => {\r\n    return async dispatch => {\r\n        let response = await requestUserProfileAPI(userId)\r\n        if(response.code === 200){\r\n            dispatch(setUserProfile(response.userData))\r\n        }\r\n        else if(response.code === 401){\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\nexport const updateUserAction = (userData) => ({type: UPDATE_USER, userData})\r\nexport const updateUser = userData => async dispatch => {\r\n    let response = await updateUserServer(userData)\r\n    dispatch(updateUserAction(response.userData))\r\n}\r\n\r\nexport default profileReducer","export const requiredField = value => {\r\n    if (value) return undefined\r\n    return \"This field is required\"\r\n}\r\nexport const maxLengthCreator = maxLength => value => {\r\n    //!!!!!Очень интересный момент - проверка на value, undef value or not!!!!!\r\n    //Потому что если будет value = null, то null.length выдаст ошибку\r\n    if (value && value.length > maxLength) return `Max length is ${maxLength} symbols`\r\n    return undefined\r\n\r\n}\r\nexport const correctUsername = username => {\r\n    if (/^[\\w.@+-]+$/.test(username)) return undefined\r\n    return \"Entered incorrect data. Use only Letters, digits and @/./+/-/_ \"\r\n}\r\nexport const correctFirstname = firstname => {\r\n    if (/^[a-zA-Z]+$/.test(firstname)) return undefined\r\n    return \"Только буквы.\"\r\n}\r\nexport const correctLastname = lastname => {\r\n    if (/^[a-zA-Z]+$/.test(lastname)) return undefined\r\n    return \"Только буквы.\"\r\n}\r\n","import React, {useState} from \"react\";\r\nimport {compose} from \"redux\";\r\nimport {connect} from \"react-redux\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Input} from \"../../common/FormControls/FormControls\";\r\nimport {\r\n    correctFirstname, correctLastname, correctUsername, maxLengthCreator, requiredField\r\n} from \"../../validators/userValidator\";\r\nimport formStyles from \"../../common/FormControls/FormControls.module.css\"\r\nimport * as underscore from \"underscore\";\r\n\r\nlet max150 = maxLengthCreator(150)\r\nlet max30 = maxLengthCreator(30)\r\n\r\nconst EditProfileForm = (props) => {\r\n    const onCancelClick = (e) => {\r\n        e.preventDefault()\r\n        props.onCancelClick()\r\n    }\r\n    return <form onSubmit={props.handleSubmit}>\r\n        <div>\r\n            Username:\r\n            <Field component={Input}\r\n                   validate={[requiredField, correctUsername]}\r\n                   name={\"username\"}\r\n                   placeholder={\"Username\"}\r\n\r\n            />\r\n            Имя:\r\n            <Field component={Input}\r\n                   validate={[requiredField, max30, correctFirstname]}\r\n                   name={\"first_name\"}\r\n                   placeholder={\"Имя\"}\r\n\r\n            />\r\n            Фамилия:\r\n            <Field component={Input}\r\n                   validate={[requiredField, max150, correctLastname]}\r\n                   name={\"last_name\"}\r\n                   placeholder={\"Фамилия\"}\r\n            />\r\n        </div>\r\n        {props.error ? <span className={formStyles.Error}>{props.error}</span> : null}\r\n        <div>\r\n            <button disabled={props.isSubmitting}>Save Changes</button>\r\n            <button onClick={onCancelClick}>CANCEL</button>\r\n        </div>\r\n    </form>\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        initialValues: {\r\n            username: state.profile.userProfile.username,\r\n            first_name: state.profile.userProfile.first_name,\r\n            last_name: state.profile.userProfile.last_name\r\n        }\r\n    }\r\n}\r\n\r\nconst EditProfileReduxForm = compose(\r\n    connect(mapStateToProps, {}),\r\n    reduxForm({\r\n        form: \"editProfile\"\r\n    })\r\n)(EditProfileForm)\r\n\r\nconst EditProfile = (props) => {\r\n\r\n    let [isSubmitting, setSubmitting] = useState(false)\r\n    const handleSubmit = (formData) => {\r\n        setSubmitting(true)\r\n        let {username, first_name, last_name} = props.userProfile\r\n        if (underscore.isEqual({username, first_name, last_name}, formData)) {\r\n            setSubmitting(false)\r\n            props.onSuccess()\r\n        } else {\r\n            props.updateUser({...formData, id: props.userId}).then(() => {\r\n                    setSubmitting(false)\r\n                    props.onSuccess()\r\n                }\r\n            )\r\n        }\r\n    }\r\n    return <EditProfileReduxForm onSubmit={handleSubmit}\r\n                                 isSubmitting={isSubmitting}\r\n                                 onCancelClick={props.onCancelClick}/>\r\n}\r\n\r\nexport default EditProfile\r\n\r\n","import React, {useEffect, useState} from \"react\";\r\nimport {NavLink, withRouter} from \"react-router-dom\";\r\nimport {requestUserProfile, updateUser} from \"../../Redux/profileReducer\";\r\nimport {connect} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport EditProfile from \"./ProfileForm\";\r\n\r\nconst Profile = props => {\r\n    let [isEditing, setEditing] = useState(false)\r\n    const onEditProfileCancelClick = () => {\r\n        setEditing(false)\r\n    }\r\n\r\n    const onEditProfileSuccess = () => {\r\n        setEditing(false)\r\n    }\r\n\r\n    useEffect(() => {\r\n        props.requestUserProfile(props.match.params.userId)\r\n    }, [])\r\n\r\n    if (!props.userProfile) {\r\n        return <div>...Loading...</div>\r\n    }\r\n\r\n    return <div>\r\n        <div className=\"userForm\">\r\n            {isEditing ?\r\n                <EditProfile userProfile={props.userProfile}\r\n                             updateUser={props.updateUser}\r\n                             onCancelClick={onEditProfileCancelClick}\r\n                             onSuccess={onEditProfileSuccess}\r\n                             userId={props.match.params.userId}/>\r\n                :\r\n                <div>\r\n                    <div>Username: {props.userProfile.username}</div>\r\n                    <div>Имя: {props.userProfile.first_name}</div>\r\n                    <div>Фамилия: {props.userProfile.last_name}</div>\r\n                    <button onClick={() => setEditing(true)}>Edit</button>\r\n                </div>\r\n            }\r\n        </div>\r\n        <NavLink to=\"/Users\">\r\n            <button>Back to Users</button>\r\n        </NavLink>\r\n    </div>\r\n}\r\n\r\nlet mapStateToProps = state => {\r\n    return {\r\n        userProfile: state.profile.userProfile\r\n    }\r\n}\r\n\r\nconst profileCompose = compose(\r\n    withRouter,\r\n    connect(mapStateToProps, {requestUserProfile, updateUser})\r\n)(Profile)\r\nexport default profileCompose","export const requiredField = value => {\r\n    if (value) return undefined\r\n    return \"This field is required\"\r\n}\r\nexport const maxLengthCreator = maxLength => value => {\r\n    //!!!!!Очень интересный момент - проверка на value, undef value or not!!!!!\r\n    //Потому что если будет value = null, то null.length выдаст ошибку\r\n    if (value && value.length > maxLength) return `Max length is ${maxLength} symbols`\r\n    return undefined\r\n}\r\nexport const uniqueUsernameCreator = usernames => username => {\r\n    return usernames.includes(username) ?\r\n        \"Такой Username уже занят\" : undefined\r\n}\r\nexport const correctUsername = username => {\r\n    if (/^[\\w.@+-]+$/.test(username)) return undefined\r\n    return \"Entered incorrect data. Use only Letters, digits and @/./+/-/_ \"\r\n}\r\nexport const correctFirstname = firstname => {\r\n    if (/^[a-zA-Z]+$/.test(firstname)) return undefined\r\n    return \"Только латинские буквы.\"\r\n}\r\nexport const correctLastname = lastname => {\r\n    if (/^[a-zA-Z]+$/.test(lastname)) return undefined\r\n    return \"Только латинские буквы.\"\r\n}\r\nexport const correctPassword = password => {\r\n    if (/^(?=.*[A-Z])(?=.*\\d).{8,}$/.test(password)) return undefined\r\n    return \"Длина пароля 8 символов, 1 цифра, 1 заглавная.\"\r\n}","const validate = values => {\r\n    const errors = {};\r\n\r\n    if (values.confirmPassword !== values.password) {\r\n        errors.confirmPassword = \"Password mismatched\" ;\r\n    }\r\n\r\n    return errors;\r\n};\r\n\r\nexport default validate;","import React, {useState} from \"react\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport formStyles from \"../../../common/FormControls/FormControls.module.css\"\r\nimport styles from \"./CreateUser.module.css\"\r\nimport {Input, passwordInput} from \"../../../common/FormControls/FormControls\";\r\nimport {\r\n    correctFirstname,\r\n    correctLastname,\r\n    correctPassword,\r\n    correctUsername,\r\n    maxLengthCreator,\r\n    requiredField\r\n} from \"../../../validators/createUserValidator\";\r\nimport {compose} from \"redux\";\r\nimport validate from \"../../../validators/validate\";\r\nimport {withRouter} from \"react-router-dom\";\r\n\r\nlet max150 = maxLengthCreator(150)\r\nlet max30 = maxLengthCreator(30)\r\n\r\nconst CreateUserForm = (props) => {\r\n    let [typeConfirmPassword, setTypeConfirmPassword] = useState(\"password\")\r\n    let [typePassword, setTypePassword] = useState(\"password\")\r\n\r\n    return <form onSubmit={props.handleSubmit}>\r\n        <div>\r\n            <div>\r\n                <label htmlFor=\"username\">Username:</label>\r\n                <Field component={Input}\r\n                       validate={[requiredField, correctUsername, max150]}\r\n                       name=\"username\"\r\n                       id=\"username\"\r\n                       placeholder=\"Username\"\r\n                />\r\n            </div>\r\n            <div>\r\n                <label htmlFor=\"first_name\">Имя:</label>\r\n                <Field component={Input}\r\n                       validate={[requiredField, max30, correctFirstname]}\r\n                       name=\"first_name\"\r\n                       id=\"first_name\"\r\n                       placeholder=\"Имя\"\r\n                />\r\n            </div>\r\n            <div>\r\n                <label htmlFor=\"last_name\">Фамилия:</label>\r\n                <Field component={Input}\r\n                       validate={[requiredField, max150, correctLastname]}\r\n                       name=\"last_name\"\r\n                       id=\"last_name\"\r\n                       placeholder=\"Фамилия\"\r\n                />\r\n            </div>\r\n            <div>\r\n                <label htmlFor=\"password\">Пароль:</label>\r\n                <Field component={passwordInput}\r\n                       validate={[requiredField, max150, correctPassword]}\r\n                       name=\"password\"\r\n                       placeholder=\"Пароль\"\r\n                       id=\"password\"\r\n                       type={typePassword}\r\n                       setType={setTypePassword}\r\n                />\r\n            </div>\r\n            <div>\r\n                <label htmlFor=\"confirmPassword\">Повторите пароль:</label>\r\n                <Field component={passwordInput}\r\n                       validate={[requiredField, max150, correctPassword]}\r\n                       name=\"confirmPassword\"\r\n                       id=\"confirmPassword\"\r\n                       placeholder=\"Повторите пароль\"\r\n                       type={typeConfirmPassword}\r\n                       setType={setTypeConfirmPassword}\r\n                />\r\n            </div>\r\n        </div>\r\n        {props.error ? <span className={formStyles.Error}>{props.error}</span> : null}\r\n        <div>\r\n            <button disabled={props.isSubmitting}>CreateUser</button>\r\n        </div>\r\n    </form>\r\n}\r\n\r\nconst CreateUserReduxForm = compose(\r\n    reduxForm({\r\n        form: \"createUser\",\r\n        validate\r\n    }))(CreateUserForm)\r\n\r\nconst CreateUser = (props) => {\r\n    let [isSubmitting, setSubmitting] = useState(false)\r\n    const handleSubmit = (formData) => {\r\n        props.createNewUser(formData).then(\r\n            canRedirect => {\r\n                if(canRedirect){\r\n                    props.history.push(\"/Users\")\r\n                }\r\n            }\r\n        )\r\n    }\r\n    return <CreateUserReduxForm onSubmit={handleSubmit}\r\n                                setSubmitting={setSubmitting}\r\n                                isSubmitting={isSubmitting}/>\r\n}\r\n\r\nexport default withRouter(CreateUser)\r\n\r\n","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport CreateUserForm from \"./CreateUserForm\";\r\nimport {createNewUser} from \"../../../Redux/usersReducer\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst CreateUser = props => {\r\n    return <div>\r\n        <CreateUserForm createNewUser={props.createNewUser}/>\r\n        <NavLink to=\"/Users\">\r\n            <button>Back to Users</button>\r\n        </NavLink>\r\n    </div>\r\n}\r\n\r\n\r\nexport default connect(null, {createNewUser})(CreateUser)","import React from 'react';\nimport './App.module.css';\nimport Login from \"./components/Login/Login\";\nimport Users from \"./components/Users/Users\";\nimport {connect} from \"react-redux\";\nimport {withRouter, Route} from \"react-router-dom\";\nimport {compose} from \"redux\";\nimport Profile from \"./components/Profile/Profile\";\nimport CreateUser from \"./components/Users/CreateUser/CreateUser\";\nimport styles from \"./App.module.css\"\n\n\nconst App = (props) => {\n    return (\n        <div className={styles.App}>\n            {/*Проверка на авторизацию*/}\n            {props.isAuth ?\n                <div className={styles.App}>\n                    <Route exact path=\"/Users\" render={() => <Users/>}/>\n                    <Route path=\"/Profile/:userId\" render={() => <Profile/>}/>\n                    <Route path=\"/Users/create\" render={() => <CreateUser/>}/>\n                </div>\n                :\n                <Login history={props.history}/>\n            }\n        </div>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        isAuth: state.auth.isAuth,\n        token: state.auth.token\n    }\n}\nconst appCompose = compose(\n    withRouter,\n    connect(mapStateToProps, null)\n)(App)\nexport default appCompose;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport { reducer as formReducer } from \"redux-form\"\r\nimport thunkMiddleware from \"redux-thunk\"\r\nimport authReducer from \"./authReducer\";\r\nimport usersReducer from \"./usersReducer\";\r\nimport profileReducer from \"./profileReducer\";\r\n\r\nlet reducers = combineReducers({\r\n        form: formReducer,\r\n        users: usersReducer,\r\n        profile: profileReducer,\r\n        auth: authReducer\r\n    }\r\n)\r\n\r\nlet store = createStore(reducers, applyMiddleware(thunkMiddleware))\r\n\r\nexport default store","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport {Provider} from \"react-redux\";\nimport store from \"./Redux/Store\";\nimport {BrowserRouter} from \"react-router-dom\";\n\nReactDOM.render(\n    <BrowserRouter>\n        <Provider store={store}>\n            <App/>\n        </Provider>\n    </BrowserRouter>,\n    document.getElementById('root')\n)\n\n\n\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__1GlMj\"};"],"sourceRoot":""}