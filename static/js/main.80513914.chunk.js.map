{"version":3,"sources":["common/FormControls/FormControls.module.css","components/Users/Users.module.css","components/Profile/Profile.module.css","dalApi/dalApi.js","utils/removeItemByIndex.js","Redux/usersReducer.js","components/Users/User.jsx","components/HOC/withAuthRedirect.js","Redux/authReducer.js","Redux/profileReducer.js","components/Logout/Logout.jsx","components/Users/Users.jsx","utils/sortById.js","common/FormControls/FormControls.js","validators/userValidator.js","components/Profile/ProfileForm.jsx","utils/checkWhatObjectFieldWasChanged.js","components/Profile/Profile.jsx","validators/createUserValidator.js","validators/validate.js","components/Users/CreateUser/CreateUserForm.jsx","components/Users/CreateUser/CreateUser.jsx","validators/loginValidator.js","components/Login/LoginForm.jsx","components/Login/Login.jsx","App.js","serviceWorker.js","Redux/Store.js","index.js","components/Login/Login.module.css","components/Users/CreateUser/CreateUser.module.css","App.module.css","components/Logout/Logout.module.css"],"names":["module","exports","instance","axios","baseURL","loginAPI","username","password","post","then","response","error","status","requestUsersAPI","token","get","headers","authorization","requestUserProfileAPI","userId","createNewUserAPI","userData","updateUserAPI","patch","JSON","stringify","deleteUserAPI","delete","removeItemById","array","id","forEach","item","index","splice","map","i","initialState","users","deleteUserAction","type","addNewUserAction","usersReducer","state","action","connect","auth","deleteUser","dispatch","a","first_name","last_name","className","styles","User","to","onClick","window","confirm","DeleteActionSpan","mapStateToProps","WithAuthRedirect","Component","withRouter","props","console","log","history","push","setAuthDataAction","authReducer","localStorage","removeItem","userProfile","setUserProfile","nullUserAction","profileReducer","logout","Logout","LogoutButton","UsersCompose","compose","withAuthRedirect","requestUsers","useState","pageUsers","setPageUsers","filterValue","setFilterValue","isSortByUp","setIsSortByUp","useEffect","useRequestUsers","usersElements","u","UsersHeader","value","onChange","e","target","filter","includes","filterUsers","placeholder","UsersFilterInput","classNames","SortById","ByUp","ByDown","sortByNum","b","num","groups","Object","values","reduce","acc","group","sort","concat","reverse","sortById","CreateNewUserLink","Users","Header","data","Input","input","meta","hasError","touched","Error","ErrorSpan","passwordInput","setType","ShowLabel","requiredField","maxLengthCreator","maxLength","length","correctUsername","test","correctFirstname","firstname","correctLastname","lastname","max150","max30","EditProfileReduxForm","initialValues","profile","is_active","reduxForm","form","onSubmit","handleSubmit","EditProfileForm","Field","component","validate","name","formStyles","disabled","isSubmitting","ProfileSubmitButton","ProfileCancelButton","preventDefault","onCancelClick","EditProfile","setSubmitting","formData","underscore","onSuccess","objectWithChangedFields","obj_1","obj_2","matchesObj","Map","set","fromEntries","checkWhatObjectFieldWasChanged","updateUser","undefined","profileCompose","requestUserProfile","stopSubmit","_error","match","isEditing","setEditing","params","Profile","ProfileInfo","is_superuser","last_login","EditButton","ToUsersButton","correctPassword","errors","confirmPassword","CreateUserReduxForm","typeConfirmPassword","setTypeConfirmPassword","typePassword","setTypePassword","CreateUserForm","htmlFor","CreateUserButton","createNewUser","CreateUserCompose","CreateUser","code","max128","LoginReduxForm","LoginForm","LoginInputWrapper","LoginSubmitButton","loginCompose","login","Login","LoginHeading","remember_me","finally","_","setItem","initializeApp","getItem","React","isInitializing","setIsInitializing","App","exact","path","render","Boolean","location","hostname","reducers","combineReducers","formReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.80513914.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Error\":\"FormControls_Error__3WPFQ\",\"ErrorSpan\":\"FormControls_ErrorSpan__6w8dm\",\"Input\":\"FormControls_Input__2d90D\",\"LoginInput\":\"FormControls_LoginInput__27ZRW\",\"StyledPasswordInput\":\"FormControls_StyledPasswordInput__3_Lf3\",\"StyledInput\":\"FormControls_StyledInput__3mWtX\",\"ShowLabel\":\"FormControls_ShowLabel__3oguU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Users\":\"Users_Users__1v7m0\",\"Header\":\"Users_Header__KwosV\",\"User\":\"Users_User__2_MfI\",\"UsersFilterInput\":\"Users_UsersFilterInput__U_EX7\",\"UsersHeader\":\"Users_UsersHeader__1ARBg\",\"DeleteActionSpan\":\"Users_DeleteActionSpan__14t_e\",\"SortById\":\"Users_SortById__3GdX2\",\"ByDown\":\"Users_ByDown__2iye3\",\"ByUp\":\"Users_ByUp__3FAgj\",\"CreateNewUserLink\":\"Users_CreateNewUserLink__GrGV1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Profile\":\"Profile_Profile__3NmHj\",\"ProfileSubmitButton\":\"Profile_ProfileSubmitButton__2nFCi\",\"ProfileCancelButton\":\"Profile_ProfileCancelButton__1PMMu\",\"ProfileInfo\":\"Profile_ProfileInfo__1Ox-h\",\"ToUsersButton\":\"Profile_ToUsersButton__2Iwd2\",\"EditButton\":\"Profile_EditButton__2yeXx\",\"EditProfileForm\":\"Profile_EditProfileForm__1Pe3A\"};","import * as axios from \"axios\"\r\n\r\nconst instance = axios.create({\r\n    baseURL: \"https://emphasoft-test-assignment.herokuapp.com/\"\r\n})\r\n\r\nexport const loginAPI = (username, password) => {\r\n    return instance.post(\"api-token-auth/\", {username, password}).then(\r\n        response => {\r\n            return response\r\n        },\r\n        error => {\r\n            return error.response.status\r\n        }\r\n    )\r\n}\r\n\r\n\r\nexport const requestUsersAPI = (token) => {\r\n    return instance.get(\"/api/v1/users/\", {\r\n        headers: {\r\n            authorization: `Token ${token}`\r\n        }\r\n    }).then(\r\n        response => {\r\n            return response\r\n        }\r\n    )\r\n}\r\n\r\n\r\nexport const requestUserProfileAPI = (userId, token) => {\r\n    return instance.get(`/api/v1/users/${userId}`, {\r\n        headers: {\r\n            authorization: `Token ${token}`\r\n        }\r\n    }).then(\r\n        response => {\r\n            return response\r\n        }\r\n    )\r\n}\r\n\r\nexport const createNewUserAPI = (userData, token) => {\r\n    return instance.post(\r\n        \"/api/v1/users/\",\r\n        userData,\r\n        {\r\n            headers: {\r\n                authorization: `Token ${token}`\r\n            }\r\n        }).then(\r\n        response => {\r\n            return response\r\n        },\r\n        error => {\r\n            return error.response\r\n        }\r\n    )\r\n}\r\n\r\nexport const updateUserAPI = (userData, userId, token) => {\r\n    return instance.patch(\r\n        `/api/v1/users/${userId}/`,\r\n        JSON.stringify(userData),\r\n        {\r\n            headers: {\r\n                authorization: `Token ${token}`,\r\n               \"Content-Type\": \"application/json\"\r\n            }\r\n        }\r\n    ).then(\r\n        response => response,\r\n        error => error.response\r\n    )\r\n}\r\nexport const deleteUserAPI = (userId, token) => {\r\n    return instance.delete(\r\n        `/api/v1/users/${userId}/`,\r\n        {\r\n            headers: {\r\n                authorization: `Token ${token}`,\r\n               \"Content-Type\": \"application/json\"\r\n            }\r\n        }\r\n    ).then(\r\n        response => response,\r\n        error => error.response\r\n    )\r\n}","export const removeItemById = (array, id) => {\r\n\r\n        array.forEach((item, index) => {\r\n            if (item.id === id) array.splice(index, 1)\r\n        })\r\n\r\n        return array.map(i => i)\r\n}","import {createNewUserAPI, deleteUserAPI, requestUsersAPI} from \"../dalApi/dalApi\";\r\nimport {stopSubmit} from \"redux-form\";\r\nimport {removeItemById} from \"../utils/removeItemByIndex\";\r\n\r\nconst SET_USERS = `SET_USERS`\r\nconst ADD_NEW_USER = \"ADD_NEW_USER\"\r\nconst NULL_USERS_DATA = \"NULL_USERS_DATA\"\r\nconst DELETE_USER = \"DELETE_USER\"\r\n\r\nlet initialState = {\r\n    users: [],\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USERS:\r\n            return {\r\n                ...state,\r\n                users: [...action.users]\r\n            }\r\n        case ADD_NEW_USER:\r\n            return {\r\n                ...state,\r\n                users: [...state.users, action.userData]\r\n            }\r\n        case DELETE_USER:\r\n            return {\r\n                ...state,\r\n                users: removeItemById(state.users, action.userId)\r\n            }\r\n        case NULL_USERS_DATA: {\r\n            return {\r\n                users: []\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const setUsersAction = (users) => ({type: SET_USERS, users: users})\r\nconst deleteUserAction = (userId) => ({type: DELETE_USER, userId})\r\nexport const addNewUserAction = (userData) => ({type: ADD_NEW_USER, userData})\r\nexport const nullUsersDataAction = () => ({type: NULL_USERS_DATA})\r\n\r\n\r\nexport const requestUsers = (token) => {\r\n    return async dispatch => {\r\n        let response = await requestUsersAPI(token)\r\n\r\n        if (response.status === 200) {\r\n            dispatch(setUsersAction(response.data))\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport const createNewUser = (userData, token) => async dispatch => {\r\n    let response = await createNewUserAPI(userData, token)\r\n    if (response.code === 201) {\r\n        dispatch(addNewUserAction(response.data))\r\n\r\n    } else if (response.status === 400) {\r\n        let error = Object.values(response.data)[0][0]\r\n        dispatch(stopSubmit(\"createUser\", {_error: error}))\r\n        return error\r\n    }\r\n\r\n}\r\n\r\nexport const deleteUser = (userId, token) => async dispatch => {\r\n    let response = await deleteUserAPI(userId, token)\r\n    if (response.status === 204) {\r\n        dispatch(deleteUserAction(userId))\r\n    }\r\n}\r\n\r\nexport default usersReducer","import React from \"react\";\r\nimport styles from './Users.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\nimport {deleteUser} from \"../../Redux/usersReducer\";\r\n\r\nconst User = ({username, first_name, last_name, id, token, deleteUser}) => {\r\n\r\n    const onDeleteUserClick = () => {\r\n        const conf = window.confirm(`Уверены что хотите удалить пользователя?`);\r\n\r\n        if(conf) deleteUser(id, token)\r\n    }\r\n\r\n    return <div className={styles.User}>\r\n\r\n        <div>{id}</div>\r\n        <div>{username}</div>\r\n        <div>{first_name}</div>\r\n        <div>{last_name}</div>\r\n\r\n        <div>\r\n            <NavLink to={\"/Profile/\" + id}>\r\n                ViewProfile\r\n            </NavLink>\r\n        </div>\r\n        <div>\r\n            <span\r\n                onClick={onDeleteUserClick}\r\n                className={styles.DeleteActionSpan}>\r\n                Delete\r\n            </span>\r\n        </div>\r\n\r\n    </div>\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        token: state.auth.token\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {deleteUser})(User)","import React from \"react\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        token: state.auth.token\r\n    }\r\n}\r\n\r\nconst WithAuthRedirect = (Component) => {\r\n\r\n    const AuthContainer = (props) => {\r\n        console.log(props)\r\n        if (!props.token) props.history.push('/Login')\r\n        return <Component {...props}/>\r\n\r\n    }\r\n    return connect(mapStateToProps)(withRouter(AuthContainer))\r\n}\r\n\r\nexport default WithAuthRedirect","import { loginAPI } from \"../dalApi/dalApi\";\r\nimport { stopSubmit } from \"redux-form\";\r\n\r\nconst SET_AUTH_DATA = \"SET_AUTH_DATA\"\r\nconst NULL_AUTH_DATA = \"NULL_AUTH_DATA\"\r\n\r\nlet initialState = {\r\n    token: null\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_AUTH_DATA:\r\n            return {\r\n                ...state,\r\n                token: action.token,\r\n            }\r\n        case NULL_AUTH_DATA:\r\n            localStorage.removeItem('token')\r\n            return {\r\n                token: null,\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const setAuthDataAction = (token) => ({type: SET_AUTH_DATA, token})\r\nexport const nullAuthDataAction = () => ({type: NULL_AUTH_DATA})\r\n\r\n\r\nexport const login = (username, password) => async dispatch => {\r\n    let response = await loginAPI(username, password)\r\n\r\n    if (response === 400){\r\n        dispatch(stopSubmit(\"login\", {_error: \"Incorrect Username/Password\"}))\r\n    }\r\n    else if (response.status === 200){\r\n        return dispatch(setAuthDataAction(response.data.token))\r\n    }\r\n}\r\n\r\nexport const initializeApp = () => async dispatch => {\r\n    if (localStorage.getItem('token')){\r\n        dispatch(setAuthDataAction(localStorage.getItem('token')))\r\n    }\r\n}\r\n\r\nexport default authReducer","import {requestUserProfileAPI, updateUserAPI} from \"../dalApi/dalApi\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\n\r\nconst SET_USER_PROFILE = `SET_USER_PROFILE`;\r\nconst UPDATE_USER = \"UPDATE_USER\"\r\nconst NULL_PROFILE = \"NULL_PROFILE\"\r\n\r\nlet initialState = {\r\n    userProfile: null\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_PROFILE: {\r\n            return {\r\n                ...state,\r\n                userProfile: {...action.userProfile}\r\n            }\r\n        }\r\n        case UPDATE_USER:\r\n            return {\r\n                ...state,\r\n                userProfile: {...action.userData}\r\n            }\r\n        case NULL_PROFILE:\r\n            return {\r\n                userProfile: null\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const setUserProfile = (userProfile) => ({type: SET_USER_PROFILE, userProfile})\r\nexport const updateUserAction = (userData) => ({type: UPDATE_USER, userData})\r\nexport const nullUserAction = () => ({type: NULL_PROFILE})\r\n\r\nexport const requestUserProfile = (userId, token) => {\r\n    return async dispatch => {\r\n        let response = await requestUserProfileAPI(userId, token)\r\n        if(response.status === 200){\r\n            dispatch(setUserProfile(response.data))\r\n        }\r\n    }\r\n}\r\n\r\nexport const updateUser = (userData, userId, token)  => {\r\n    return async dispatch => {\r\n        let response = await updateUserAPI(userData, userId, token)\r\n        if (response.status === 200){\r\n            dispatch(setUserProfile(response.data))\r\n        }\r\n        else if(response.status === 400){\r\n            let error = Object.values(response.data)[0][0]\r\n            dispatch(stopSubmit(\"editProfile\", {_error: error}))\r\n            return error\r\n        }\r\n    }\r\n}\r\n\r\nexport default profileReducer","import React from 'react';\r\nimport styles from \"./Logout.module.css\"\r\nimport {connect} from \"react-redux\";\r\nimport {nullUsersDataAction} from \"../../Redux/usersReducer\";\r\nimport {nullAuthDataAction} from \"../../Redux/authReducer\";\r\nimport {nullUserAction} from \"../../Redux/profileReducer\";\r\nimport {withRouter} from \"react-router-dom\";\r\n\r\nfunction Logout(props) {\r\n\r\n    const logout = () => {\r\n        props.history.push(\"/Login\")\r\n        props.logout()\r\n    }\r\n\r\n    return (\r\n        <div className={styles.Logout}>\r\n            <button className={styles.LogoutButton}\r\n                    onClick={logout}>Logout</button>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        logout: () => {\r\n            dispatch(nullUsersDataAction())\r\n            dispatch(nullAuthDataAction())\r\n            dispatch(nullUserAction())\r\n        }\r\n    }\r\n}\r\n\r\nexport default withRouter(connect(null, mapDispatchToProps)(Logout));","import React, {useEffect, useState} from \"react\";\r\nimport {requestUsers} from \"../../Redux/usersReducer\";\r\nimport {connect} from \"react-redux\";\r\nimport User from \"./User\";\r\nimport {sortById} from \"../../utils/sortById\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport styles from \"./Users.module.css\"\r\nimport classNames from \"classnames\"\r\nimport {compose} from \"redux\";\r\nimport withAuthRedirect from \"../HOC/withAuthRedirect\";\r\nimport Logout from \"../Logout/Logout\";\r\n\r\nconst useRequestUsers = (requestUsers, token) => {\r\n    useEffect(() => {\r\n        requestUsers(token)\r\n    }, [])\r\n}\r\n\r\n\r\nconst Users = ({requestUsers, users, token}) => {\r\n    let [pageUsers, setPageUsers] = useState(users)\r\n    let [filterValue, setFilterValue] = useState(\"\")\r\n    let [isSortByUp, setIsSortByUp] = useState(null)\r\n\r\n    useRequestUsers(requestUsers, token)//Hook RequestUsers\r\n\r\n    //Слушаем reset сортировки\r\n    useEffect(() => {\r\n        setIsSortByUp(null)\r\n    }, [users, filterValue])\r\n\r\n\r\n    useEffect(() => {\r\n        setPageUsers(users)\r\n\r\n    }, [users])\r\n\r\n    const filterUsers = (users, value) => {\r\n        return users.filter(u => u.username.includes(value))\r\n    }\r\n\r\n    const onFilterValueChange = (e) => {\r\n        setFilterValue(e.target.value)\r\n        setPageUsers(filterUsers(users, e.target.value))\r\n    }\r\n\r\n    const onSortByIdClick = () => {\r\n        setPageUsers(sortById(pageUsers, isSortByUp))\r\n        setIsSortByUp(!isSortByUp)\r\n    }\r\n\r\n    let usersElements = pageUsers.map(u => {\r\n        return <User id={u.id}\r\n                     username={u.username}\r\n                     first_name={u.first_name}\r\n                     last_name={u.last_name}\r\n\r\n        />\r\n    })\r\n\r\n\r\n    return (\r\n        <>\r\n            <Logout/>\r\n            <div className={styles.UsersHeader}>\r\n\r\n                <input value={filterValue}\r\n                       onChange={onFilterValueChange}\r\n                       placeholder=\"Начните вводить Username\"\r\n                       className={styles.UsersFilterInput}\r\n                />\r\n\r\n                <div\r\n                    className={classNames(styles.SortById, {\r\n                        [styles.ByUp]: isSortByUp === true,\r\n                        [styles.ByDown]: isSortByUp === false\r\n                    })}\r\n                    onClick={onSortByIdClick}>\r\n                    Sort By Id\r\n                </div>\r\n\r\n                <NavLink to=\"/Users/create\" className={styles.CreateNewUserLink}>\r\n                    Create new User\r\n                </NavLink>\r\n\r\n            </div>\r\n\r\n            <div className={styles.Users}>\r\n                <div className={styles.Header}>\r\n                    <div className={styles.User}>\r\n                        <div>Id</div>\r\n                        <div>username</div>\r\n                        <div>first_name</div>\r\n                        <div>last_name</div>\r\n                        <div>ViewProfile</div>\r\n                        <div>Delete</div>\r\n                    </div>\r\n                </div>\r\n                {usersElements}\r\n            </div>\r\n        </>\r\n    )\r\n}\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        users: state.users.users,\r\n        token: state.auth.token\r\n    }\r\n}\r\n\r\nconst UsersCompose = compose(\r\n    withAuthRedirect\r\n)(Users)\r\n\r\nexport default connect(mapStateToProps, {requestUsers})(UsersCompose)","export const sortById = (users, isSortByUp) => {\r\n    const groupById = (acc, item) => {\r\n        const id = item.id;\r\n        if (id in acc) {\r\n            acc[id].push(item);\r\n        } else {\r\n            acc[id] = [item];\r\n        }\r\n        return acc;\r\n    };\r\n    const sortByNum = (a, b) => a.num - b.num;\r\n    const sortByMinNum = (a, b) => a[0].num - b[0].num;\r\n\r\n    let groups = Object.values(users.reduce(groupById, {}))\r\n        .map(group => group.sort(sortByNum))\r\n        .sort(sortByMinNum);\r\n\r\n    if(isSortByUp) return [].concat(...groups)\r\n    return [].concat(...groups).reverse()\r\n}","import React from \"react\";\r\nimport styles from \"./FormControls.module.css\"\r\n\r\n\r\nexport const Input = ({input, meta, ...props}) => {\r\n    let hasError = meta.error && meta.touched\r\n\r\n    return (\r\n        <>\r\n            <div className={props.className ? styles[props.className] : styles.Input}>\r\n                <input {...input} {...props} className={hasError ? styles.Error : \"\"}/>\r\n            </div>\r\n\r\n            {hasError && <div>\r\n                <span className={styles.ErrorSpan}>{meta.error}</span></div>}\r\n        </>\r\n    )\r\n}\r\n\r\nexport const passwordInput = ({input, meta, ...props}) => {\r\n    let hasError = meta.error && meta.touched\r\n\r\n    const setType = () => {\r\n        props.setType(\r\n            props.type === \"password\" ? \"text\" : \"password\"\r\n        )\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className={props.className ? styles[props.className] : styles.Input}>\r\n                <input {...input} {...props} className={hasError ? styles.Error : \"\"}/>\r\n                <span onClick={setType} className={styles.ShowLabel}>\r\n                    Show\r\n                </span>\r\n            </div>\r\n\r\n            {hasError && <div>\r\n                <span className={styles.ErrorSpan}>{meta.error}</span>\r\n            </div>}\r\n\r\n        </>\r\n\r\n    )\r\n}","export const requiredField = value => {\r\n    if (value) return undefined\r\n    return \"This field is required\"\r\n}\r\n\r\nexport const maxLengthCreator = maxLength => value => {\r\n    if (value && value.length > maxLength) return `Max length is ${maxLength} symbols`\r\n    return undefined\r\n\r\n}\r\n\r\nexport const correctUsername = username => {\r\n    if (/^[\\w.@+-]+$/.test(username)) return undefined\r\n    return \"Entered incorrect data. Use only Letters, digits and @/./+/-/_ \"\r\n}\r\n\r\nexport const correctFirstname = firstname => {\r\n    if (/^[a-zA-Z]+$/.test(firstname)) return undefined\r\n    return \"Только буквы латинского алфавита.\"\r\n}\r\n\r\nexport const correctLastname = lastname => {\r\n    if (/^[a-zA-Z]+$/.test(lastname)) return undefined\r\n    return \"Только буквы латинского алфавита.\"\r\n}\r\n","import React, {useState} from \"react\";\r\nimport {compose} from \"redux\";\r\nimport {connect} from \"react-redux\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Input} from \"../../common/FormControls/FormControls\";\r\nimport { correctFirstname,correctLastname,correctUsername, maxLengthCreator,requiredField} from \"../../validators/userValidator\";\r\nimport formStyles from \"../../common/FormControls/FormControls.module.css\"\r\nimport * as underscore from \"underscore\";\r\nimport {checkWhatObjectFieldWasChanged} from \"../../utils/checkWhatObjectFieldWasChanged\";\r\nimport styles from \"./Profile.module.css\"\r\n\r\nlet max150 = maxLengthCreator(150)\r\nlet max30 = maxLengthCreator(30)\r\n\r\nconst EditProfileForm = (props) => {\r\n\r\n    const onCancelClick = (e) => {\r\n        e.preventDefault()\r\n        props.onCancelClick()\r\n    }\r\n\r\n    return <form onSubmit={props.handleSubmit}>\r\n        <div className={styles.EditProfileForm}>\r\n\r\n            <label>\r\n                Username:\r\n                <Field component={Input}\r\n                       validate={[requiredField, correctUsername]}\r\n                       name={\"username\"}\r\n                       placeholder={\"Username\"}\r\n\r\n                />\r\n            </label>\r\n\r\n            <label>\r\n                Имя:\r\n                <Field component={Input}\r\n                       validate={[requiredField, max30, correctFirstname]}\r\n                       name={\"first_name\"}\r\n                       placeholder={\"Имя\"}\r\n\r\n                />\r\n            </label>\r\n            <label>\r\n                Фамилия:\r\n                <Field component={Input}\r\n                       validate={[requiredField, max150, correctLastname]}\r\n                       name={\"last_name\"}\r\n                       placeholder={\"Фамилия\"}\r\n                />\r\n            </label>\r\n\r\n            <label>\r\n                is_active:\r\n                <Field name=\"is_active\" component={\"input\"} type=\"checkbox\"/>\r\n            </label>\r\n        </div>\r\n\r\n        {props.error ? <span className={formStyles.Error}>{props.error}</span> : null}\r\n\r\n        <div>\r\n            <button disabled={props.isSubmitting} className={styles.ProfileSubmitButton}>Save Changes</button>\r\n            <button className={styles.ProfileCancelButton} onClick={onCancelClick}>CANCEL</button>\r\n        </div>\r\n\r\n    </form>\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        initialValues: {\r\n            username: state.profile.userProfile.username,\r\n            first_name: state.profile.userProfile.first_name,\r\n            last_name: state.profile.userProfile.last_name,\r\n            is_active: state.profile.userProfile.is_active\r\n        }\r\n    }\r\n}\r\n\r\nconst EditProfileReduxForm = compose(\r\n    connect(mapStateToProps, {}),\r\n    reduxForm({\r\n        form: \"editProfile\"\r\n    })\r\n)(EditProfileForm)\r\n\r\nconst EditProfile = (props) => {\r\n\r\n    let [isSubmitting, setSubmitting] = useState(false)\r\n\r\n    const handleSubmit = (formData) => {\r\n        setSubmitting(true)\r\n        let {username, first_name, last_name, is_active} = props.userProfile\r\n\r\n        if (underscore.isEqual({username, first_name, last_name, is_active}, formData)) {\r\n            setSubmitting(false)\r\n            props.onSuccess()\r\n        } else {\r\n            //Объект в котором только изменившиеся свойства\r\n            const objectWithChangedFields = checkWhatObjectFieldWasChanged(\r\n                formData,\r\n                {username, first_name, last_name, is_active}\r\n            )\r\n\r\n            props.updateUser(objectWithChangedFields, props.userId, props.token).then(\r\n                //Если response не пустой - есть ошибка. Пустой- всё хорошо. Вызываем onSuccess\r\n                response => {\r\n                    setSubmitting(false)\r\n                    if (response === undefined) props.onSuccess()\r\n                })\r\n        }\r\n    }\r\n\r\n    return <EditProfileReduxForm onSubmit={handleSubmit}\r\n                                 isSubmitting={isSubmitting}\r\n                                 onCancelClick={props.onCancelClick}/>\r\n}\r\n\r\nexport default EditProfile\r\n\r\n","export const checkWhatObjectFieldWasChanged = (obj_1, obj_2) => {\r\n    let matchesObj = new Map();\r\n\r\n    for (let value in obj_1) {\r\n\r\n        for (let item in obj_2) {\r\n\r\n            if (obj_1[value] !== obj_2[item] && value === item) {\r\n                matchesObj.set(value, obj_1[value]);\r\n            }\r\n        }\r\n    }\r\n\r\n    return Object.fromEntries(matchesObj);\r\n}","import React, {useEffect, useState} from \"react\";\r\nimport {NavLink, withRouter} from \"react-router-dom\";\r\nimport {nullUserAction, requestUserProfile, updateUser} from \"../../Redux/profileReducer\";\r\nimport {connect} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport EditProfile from \"./ProfileForm\";\r\nimport styles from \"./Profile.module.css\"\r\nimport withAuthRedirect from \"../HOC/withAuthRedirect\";\r\nimport Logout from \"../Logout/Logout\";\r\n\r\nconst Profile = ({requestUserProfile, match, userProfile, updateUser, token, nullUserAction}) => {\r\n    let [isEditing, setEditing] = useState(false)\r\n\r\n    const killUserData = () => {\r\n        nullUserAction()\r\n    }\r\n\r\n    const onEditProfileCancelClick = () => {\r\n        setEditing(false)\r\n    }\r\n\r\n    const onEditProfileSuccess = () => {\r\n        setEditing(false)\r\n    }\r\n\r\n    useEffect(() => {\r\n        requestUserProfile(match.params.userId, token)\r\n\r\n        return killUserData()\r\n    }, [match.params.userId])\r\n\r\n    if (!userProfile) {\r\n        return <div>...Loading...</div>\r\n    }\r\n\r\n    return <div className={styles.Profile}>\r\n        <Logout/>\r\n        <div>\r\n            {isEditing ?\r\n                <EditProfile userProfile={userProfile}\r\n                             updateUser={updateUser}\r\n                             onCancelClick={onEditProfileCancelClick}\r\n                             onSuccess={onEditProfileSuccess}\r\n                             token={token}\r\n                             userId={match.params.userId}/>\r\n                :\r\n                <div className={styles.ProfileInfo}>\r\n                    <div>Username: {userProfile.username}</div>\r\n                    <div>Имя: {userProfile.first_name}</div>\r\n                    <div>Фамилия: {userProfile.last_name}</div>\r\n                    <div>is_active: {`${userProfile.is_active}`}</div>\r\n                    <div>is_superuser: {`${userProfile.is_superuser}`}</div>\r\n                    <div>last_login: {userProfile.last_login}</div>\r\n                    <button className={styles.EditButton} onClick={() => setEditing(true)}>Edit</button>\r\n                </div>\r\n            }\r\n        </div>\r\n\r\n        <NavLink to=\"/Users\">\r\n            <button className={styles.ToUsersButton}>Back to Users</button>\r\n        </NavLink>\r\n\r\n    </div>\r\n}\r\n\r\nlet mapStateToProps = state => {\r\n    return {\r\n        userProfile: state.profile.userProfile,\r\n        token: state.auth.token\r\n    }\r\n}\r\n\r\nconst profileCompose = compose(\r\n    withAuthRedirect,\r\n    withRouter,\r\n    connect(mapStateToProps, {requestUserProfile, updateUser, nullUserAction})\r\n)(Profile)\r\nexport default profileCompose","export const requiredField = value => {\r\n    if (value) return undefined\r\n    return \"This field is required\"\r\n}\r\nexport const maxLengthCreator = maxLength => value => {\r\n    //!!!!!Очень интересный момент - проверка на value, undef value or not!!!!!\r\n    //Потому что если будет value = null, то null.length выдаст ошибку\r\n    if (value && value.length > maxLength) return `Max length is ${maxLength} symbols`\r\n    return undefined\r\n}\r\nexport const uniqueUsernameCreator = usernames => username => {\r\n    return usernames.includes(username) ?\r\n        \"Такой Username уже занят\" : undefined\r\n}\r\n\r\nexport const correctUsername = username => {\r\n    if (/^[\\w.@+-]+$/.test(username)) return undefined\r\n    return \"Entered incorrect data. Use only Letters, digits and @/./+/-/_ \"\r\n}\r\n\r\nexport const correctFirstname = firstname => {\r\n    if (/^[a-zA-Z]+$/.test(firstname)) return undefined\r\n    return \"Только латинские буквы.\"\r\n}\r\n\r\nexport const correctLastname = lastname => {\r\n    if (/^[a-zA-Z]+$/.test(lastname)) return undefined\r\n    return \"Только латинские буквы.\"\r\n}\r\n\r\nexport const correctPassword = password => {\r\n    if (/^(?=.*[A-Z])(?=.*\\d).{8,}$/.test(password)) return undefined\r\n    return \"Длина пароля 8 символов, 1 цифра, 1 заглавная.\"\r\n}","const validate = values => {\r\n    const errors = {};\r\n\r\n    if (values.confirmPassword !== values.password) {\r\n        errors.confirmPassword = \"Password mismatched\" ;\r\n    }\r\n\r\n    return errors;\r\n};\r\n\r\nexport default validate;","import React, {useState} from \"react\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport formStyles from \"../../../common/FormControls/FormControls.module.css\"\r\nimport styles from \"./CreateUser.module.css\"\r\nimport {Input, passwordInput} from \"../../../common/FormControls/FormControls\";\r\nimport {correctFirstname,correctLastname,correctPassword,correctUsername,maxLengthCreator,requiredField} from \"../../../validators/createUserValidator\";\r\nimport {compose} from \"redux\";\r\nimport validate from \"../../../validators/validate\";\r\nimport {withRouter} from \"react-router-dom\";\r\n\r\nlet max150 = maxLengthCreator(150)\r\nlet max30 = maxLengthCreator(30)\r\n\r\nconst CreateUserForm = (props) => {\r\n    let [typeConfirmPassword, setTypeConfirmPassword] = useState(\"password\")\r\n    let [typePassword, setTypePassword] = useState(\"password\")\r\n\r\n    return <form  className={styles.CreateUserForm} onSubmit={props.handleSubmit}>\r\n        <div>\r\n\r\n            <div>\r\n                <label htmlFor=\"username\">Username:</label>\r\n                <Field component={Input}\r\n                       validate={[requiredField, correctUsername, max150]}\r\n                       name=\"username\"\r\n                       id=\"username\"\r\n                       placeholder=\"Username\"\r\n                       className={\"StyledInput\"}\r\n                />\r\n            </div>\r\n\r\n            <div>\r\n                <label htmlFor=\"first_name\">Имя:</label>\r\n                <Field component={Input}\r\n                       validate={[requiredField, max30, correctFirstname]}\r\n                       name=\"first_name\"\r\n                       id=\"first_name\"\r\n                       placeholder=\"Имя\"\r\n                       className={\"StyledInput\"}\r\n                />\r\n            </div>\r\n\r\n            <div>\r\n                <label htmlFor=\"last_name\">Фамилия:</label>\r\n                <Field component={Input}\r\n                       validate={[requiredField, max150, correctLastname]}\r\n                       name=\"last_name\"\r\n                       id=\"last_name\"\r\n                       placeholder=\"Фамилия\"\r\n                       className={\"StyledInput\"}\r\n                />\r\n            </div>\r\n\r\n            <div>\r\n                <label htmlFor=\"password\">Пароль:</label>\r\n                <Field component={passwordInput}\r\n                       validate={[requiredField, max150, correctPassword]}\r\n                       name=\"password\"\r\n                       placeholder=\"Пароль\"\r\n                       id=\"password\"\r\n                       type={typePassword}\r\n                       setType={setTypePassword}\r\n                       className={\"StyledPasswordInput\"}\r\n                />\r\n            </div>\r\n\r\n            <div>\r\n                <label htmlFor=\"confirmPassword\">Повторите пароль:</label>\r\n                <Field component={passwordInput}\r\n                       validate={[requiredField, max150, correctPassword]}\r\n                       name=\"confirmPassword\"\r\n                       id=\"confirmPassword\"\r\n                       placeholder=\"Повторите пароль\"\r\n                       type={typeConfirmPassword}\r\n                       setType={setTypeConfirmPassword}\r\n                       className={\"StyledPasswordInput\"}\r\n                />\r\n            </div>\r\n\r\n        </div>\r\n\r\n        {props.error ? <span className={formStyles.Error}>{props.error}</span> : null}\r\n\r\n        <div>\r\n            <button\r\n                className={styles.CreateUserButton}\r\n                disabled={props.isSubmitting}>CreateUser</button>\r\n        </div>\r\n    </form>\r\n}\r\n\r\nconst CreateUserReduxForm = compose(\r\n    reduxForm({\r\n        form: \"createUser\",\r\n        validate\r\n    }))(CreateUserForm)\r\n\r\nconst CreateUser = (props) => {\r\n\r\n    let [isSubmitting, setSubmitting] = useState(false)\r\n\r\n    const handleSubmit = (formData) => {\r\n        let {username, last_name, first_name, password} = formData\r\n\r\n        props.createNewUser({username, last_name, first_name, password, is_active: true}).then(\r\n            response => {\r\n                setSubmitting(false)\r\n                if (response === undefined) props.history.push(\"/Users\")\r\n            }\r\n        )\r\n    }\r\n\r\n    return <CreateUserReduxForm onSubmit={handleSubmit}\r\n                                setSubmitting={setSubmitting}\r\n                                isSubmitting={isSubmitting}/>\r\n}\r\n\r\nexport default withRouter(CreateUser)\r\n\r\n","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport CreateUserForm from \"./CreateUserForm\";\r\nimport {createNewUser} from \"../../../Redux/usersReducer\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport styles from \"./CreateUser.module.css\"\r\nimport {compose} from \"redux\";\r\nimport withAuthRedirect from \"../../HOC/withAuthRedirect\";\r\nimport Logout from \"../../Logout/Logout\";\r\n\r\nconst CreateUser = props => {\r\n    return <div  className={styles.CreateUser}>\r\n\r\n        <Logout/>\r\n\r\n        <CreateUserForm createNewUser={props.createNewUser}/>\r\n\r\n        <NavLink to=\"/Users\">\r\n            <button className={styles.ToUsersButton}>Back to Users</button>\r\n        </NavLink>\r\n    </div>\r\n}\r\n\r\nconst CreateUserCompose = compose(\r\n    withAuthRedirect\r\n)(CreateUser)\r\n\r\nexport default connect(null, {createNewUser})(CreateUserCompose)","export const requiredField = value => {\r\n    if (value) return undefined\r\n    return \"This field is required\"\r\n}\r\n\r\nexport const maxLengthCreator = maxLength => value => {\r\n    if (value && value.length > maxLength) return `Max length is ${maxLength} symbols`\r\n    return undefined\r\n\r\n}\r\n\r\nexport const correctUsername = username => {\r\n    if (/^[\\w.@+-]+$/.test(username)) return undefined\r\n    return \"Entered incorrect data.\"\r\n}\r\n\r\nexport const correctFirstname = firstname => {\r\n    if (/^[a-zA-Z]+$/.test(firstname)) return undefined\r\n    return \"Только буквы.\"\r\n}\r\n\r\nexport const correctLastname = lastname => {\r\n    if (/^[a-zA-Z]+$/.test(lastname)) return undefined\r\n    return \"Только буквы.\"\r\n}\r\n\r\nexport const correctPassword = password => {\r\n    //Длина пароля 8 символов, 1 цифра, 1 заглавная\r\n    if (/^(?=.*[A-Z])(?=.*\\d).{8,}$/.test(password)) return undefined\r\n    return \"Entered incorrect data.\"\r\n}","import {correctPassword, correctUsername, maxLengthCreator, requiredField} from \"../../validators/loginValidator\";\r\nimport React, {useState} from \"react\";\r\nimport styles from \"./Login.module.css\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Input, passwordInput} from \"../../common/FormControls/FormControls\";\r\nimport formStyles from \"../../common/FormControls/FormControls.module.css\";\r\n\r\nlet max150 = maxLengthCreator(150)\r\nlet max128 = maxLengthCreator(128)\r\n\r\nconst LoginForm = (props) => {\r\n\r\n    let [typePassword, setTypePassword] = useState(\"password\")\r\n\r\n    return <form onSubmit={props.handleSubmit} className={styles.LoginForm}>\r\n\r\n        <div className={styles.LoginInputWrapper}>\r\n\r\n            <Field component={Input}\r\n                   validate={[requiredField, correctUsername, max150]}\r\n                   name={\"username\"}\r\n                   placeholder={\"Login\"}\r\n                   className={\"StyledInput\"}\r\n            />\r\n\r\n        </div>\r\n\r\n        <div className={styles.LoginInputWrapper}>\r\n\r\n            <Field component={passwordInput}\r\n                   name={\"password\"} placeholder={\"Password\"}\r\n                   validate={[requiredField, correctPassword, max128]}\r\n                   type={typePassword}\r\n                   setType={setTypePassword}\r\n                   className={\"StyledPasswordInput\"}/>\r\n\r\n        </div>\r\n        <div className={styles.LoginInputWrapper}>\r\n\r\n            <label>\r\n                Remember me:\r\n                <Field name=\"remember_me\" component={\"input\"} type=\"checkbox\"/>\r\n            </label>\r\n\r\n        </div>\r\n\r\n        {props.error ?\r\n\r\n            <span className={formStyles.Error}>\r\n                {props.error}\r\n            </span>\r\n            :\r\n            null}\r\n\r\n        <div>\r\n\r\n            <button disabled={props.isSubmitting} className={styles.LoginSubmitButton}>\r\n                Войти в IT\r\n            </button>\r\n\r\n        </div>\r\n    </form>\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({\r\n    form: \"login\"\r\n})(LoginForm)\r\n\r\nexport default LoginReduxForm","import {connect} from \"react-redux\"\r\nimport React, {useState} from \"react\"\r\nimport {login} from \"../../Redux/authReducer\";\r\nimport styles from \"./Login.module.css\"\r\nimport {compose} from \"redux\";\r\nimport LoginReduxForm from \"./LoginForm\";\r\nimport {withRouter} from \"react-router-dom\";\r\n\r\n\r\nconst Login = ({login, history}) => {\r\n\r\n    let [isSubmitting, setSubmitting] = useState(false)\r\n\r\n    const onSubmit = (formData) => {\r\n        setSubmitting(true)\r\n        let {username, password, remember_me} = formData\r\n\r\n\r\n        login(username, password).finally(_ => {\r\n                setSubmitting(false)\r\n            }\r\n        ).then((response) => {\r\n\r\n            if(remember_me) localStorage.setItem('token', response.token)\r\n            history.push('/Users')\r\n            }\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className={styles.Login}>\r\n            <h1 className={styles.LoginHeading}>Login</h1>\r\n            <LoginReduxForm onSubmit={onSubmit}\r\n                            setSubmitting={setSubmitting}\r\n                            isSubmitting={isSubmitting}\r\n                            />\r\n        </div>\r\n    )\r\n}\r\n\r\nconst loginCompose = compose(\r\n    withRouter,\r\n    connect(null, {login})\r\n)(Login)\r\n\r\nexport default loginCompose","import React, {useEffect} from 'react';\nimport './App.module.css';\nimport Users from \"./components/Users/Users\";\nimport {Route} from \"react-router-dom\";\nimport Profile from \"./components/Profile/Profile\";\nimport CreateUser from \"./components/Users/CreateUser/CreateUser\";\nimport styles from \"./App.module.css\"\nimport {initializeApp} from \"./Redux/authReducer\";\nimport {connect} from \"react-redux\";\nimport Login from \"./components/Login/Login\";\n\n\nconst App = (props) => {\n\n    let [isInitializing, setIsInitializing] = React.useState(true)\n    useEffect(() => {\n        props.initializeApp().then(\n            () => setIsInitializing(false)\n        )\n    }, [])\n\n    return (\n        <div className={styles.App}>\n            {isInitializing ?\n                <div>\n                    ...Loading...\n                </div>\n                :\n                <>\n\n                    <Route exact path=\"/Users\" render={() => <Users/>}/>\n                    <Route path=\"/Profile/:userId\" render={() => <Profile/>}/>\n                    <Route path=\"/Users/create\" render={() => <CreateUser/>}/>\n                    <Route path=\"/Login\" render={() => <Login/>}/>\n                </>\n            }\n        </div>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        token: state.auth.token\n    }\n}\n\nexport default connect(mapStateToProps, {initializeApp})(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport { reducer as formReducer } from \"redux-form\"\r\nimport thunkMiddleware from \"redux-thunk\"\r\nimport authReducer from \"./authReducer\";\r\nimport usersReducer from \"./usersReducer\";\r\nimport profileReducer from \"./profileReducer\";\r\n\r\nlet reducers = combineReducers({\r\n        form: formReducer,\r\n        users: usersReducer,\r\n        profile: profileReducer,\r\n        auth: authReducer\r\n    }\r\n)\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\nexport default store","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport {Provider} from \"react-redux\";\nimport store from \"./Redux/Store\";\nimport {BrowserRouter, HashRouter} from \"react-router-dom\";\n\nReactDOM.render(\n    <BrowserRouter>\n        <Provider store={store}>\n            <App/>\n        </Provider>\n    </BrowserRouter>,\n    document.getElementById('root')\n)\n\n\n\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Login\":\"Login_Login__3D9nx\",\"LoginForm\":\"Login_LoginForm__1rfyv\",\"LoginHeading\":\"Login_LoginHeading__3PcH-\",\"LoginInputWrapper\":\"Login_LoginInputWrapper__18XQ0\",\"LoginSubmitButton\":\"Login_LoginSubmitButton__2m5nm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CreateUser\":\"CreateUser_CreateUser__1LAUi\",\"CreateUserForm\":\"CreateUser_CreateUserForm__JdyJx\",\"ToUsersButton\":\"CreateUser_ToUsersButton__3Svu4\",\"CreateUserButton\":\"CreateUser_CreateUserButton__3u8at\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__Vlopc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Logout\":\"Logout_Logout__28q4D\",\"LogoutButton\":\"Logout_LogoutButton__23O3e\"};"],"sourceRoot":""}